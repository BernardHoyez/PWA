<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CartoRando - Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #e8f4f0 0%, #f8fffe 100%);
            padding: 2rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 3rem;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        h1 {
            font-size: 2.5rem;
            color: #1a3a2b;
            margin-bottom: 0.5rem;
            border-bottom: 4px solid #2c5f3d;
            padding-bottom: 0.5rem;
        }

        h2 {
            font-size: 1.8rem;
            color: #2c5f3d;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        h3 {
            font-size: 1.3rem;
            color: #4a8a5f;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }

        p {
            margin-bottom: 1rem;
        }

        ul, ol {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        code {
            background: #f4f4f4;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #c44536;
        }

        .feature-box {
            background: #e8f4f0;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid #2c5f3d;
        }

        .warning-box {
            background: #fff3cd;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid #c44536;
        }

        .info-box {
            background: #e3f2fd;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid #1976d2;
        }

        .emoji {
            font-size: 1.5rem;
            margin-right: 0.5rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th, td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background: #2c5f3d;
            color: white;
        }

        tr:hover {
            background: #f5f5f5;
        }

        .version {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 2rem;
        }

        a {
            color: #2c5f3d;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ü•æ CartoRando</h1>
        <p class="version">Version 2.0 - Avec s√©lecteur de fond de carte</p>
        
        <p><strong>CartoRando</strong> est une application web progressive (PWA) qui vous permet de visualiser tous vos points de d√©part de randonn√©e sur une carte interactive. L'application analyse automatiquement vos fichiers HTML contenant des traces GPS et affiche les points de d√©part sur diff√©rents fonds de carte.</p>

        <h2>‚ú® Fonctionnalit√©s principales</h2>
        
        <div class="feature-box">
            <h3><span class="emoji">üìÅ</span> S√©lection de dossier</h3>
            <p>S√©lectionnez facilement le dossier contenant vos traces de randonn√©e au format HTML gr√¢ce √† l'API File System Access.</p>
        </div>

        <div class="feature-box">
            <h3><span class="emoji">üîç</span> Analyse automatique</h3>
            <p>L'application analyse automatiquement vos fichiers HTML et extrait les coordonn√©es GPS en utilisant 4 m√©thodes diff√©rentes :</p>
            <ul>
                <li><strong>Meta tags</strong> : <code>&lt;meta name="geo.position" content="lat;lon"&gt;</code></li>
                <li><strong>Format GPX</strong> : <code>&lt;trkpt lat="..." lon="..."&gt;</code></li>
                <li><strong>Variables JavaScript</strong> : <code>lat = 43.5; lon = 5.4;</code></li>
                <li><strong>Coordonn√©es d√©cimales</strong> : d√©tection automatique avec correction d'inversion lat/lon</li>
            </ul>
        </div>

        <div class="feature-box">
            <h3><span class="emoji">üó∫Ô∏è</span> S√©lecteur de fond de carte (NOUVEAU !)</h3>
            <p>Choisissez parmi 3 fonds de carte diff√©rents :</p>
            <table>
                <thead>
                    <tr>
                        <th>Fond de carte</th>
                        <th>Description</th>
                        <th>Bouton</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>IGN Plan V2</strong></td>
                        <td>Carte topographique d√©taill√©e de l'IGN (par d√©faut)</td>
                        <td>üó∫Ô∏è IGN Plan</td>
                    </tr>
                    <tr>
                        <td><strong>IGN Satellite</strong></td>
                        <td>Vues a√©riennes et orthophotos haute r√©solution</td>
                        <td>üõ∞Ô∏è Satellite</td>
                    </tr>
                    <tr>
                        <td><strong>OpenStreetMap</strong></td>
                        <td>Carte collaborative mondiale</td>
                        <td>üåç OSM</td>
                    </tr>
                </tbody>
            </table>
            <p><strong>Utilisation :</strong> Cliquez simplement sur les boutons en haut √† droite de la carte pour changer de fond instantan√©ment !</p>
        </div>

        <div class="feature-box">
            <h3><span class="emoji">üíæ</span> Sauvegarde de la carte</h3>
            <p>Sauvegardez votre carte avec tous vos marqueurs dans un fichier HTML autonome. Le fond de carte actuellement affich√© sera conserv√© dans le fichier sauvegard√©.</p>
        </div>

        <div class="feature-box">
            <h3><span class="emoji">üì±</span> Progressive Web App (PWA)</h3>
            <ul>
                <li>Installable sur mobile et desktop</li>
                <li>Fonctionne hors ligne (apr√®s la premi√®re visite)</li>
                <li>Ic√¥nes personnalis√©es</li>
            </ul>
        </div>

        <h2>üöÄ Utilisation</h2>

        <h3>√âtape 1 : S√©lectionner le dossier</h3>
        <ol>
            <li>Cliquez sur le bouton <strong>"üìÅ S√©lectionner mes traces de randos"</strong></li>
            <li>Naviguez jusqu'au dossier contenant vos fichiers HTML de traces</li>
            <li>S√©lectionnez le dossier</li>
            <li>Un message de confirmation s'affiche</li>
        </ol>

        <h3>√âtape 2 : Analyser les traces</h3>
        <ol>
            <li>Cliquez sur le bouton <strong>"üîç Analyser les traces"</strong></li>
            <li>L'application parcourt tous les fichiers HTML du dossier</li>
            <li>Les coordonn√©es GPS sont extraites automatiquement</li>
            <li>Un r√©capitulatif des traces trouv√©es s'affiche</li>
        </ol>

        <h3>√âtape 3 : Visualiser et explorer</h3>
        <ol>
            <li>La carte s'affiche automatiquement avec tous vos points de d√©part</li>
            <li><strong>Changez de fond de carte</strong> en cliquant sur les boutons :
                <ul>
                    <li>üó∫Ô∏è <strong>IGN Plan</strong> : pour une vue topographique</li>
                    <li>üõ∞Ô∏è <strong>Satellite</strong> : pour des vues a√©riennes</li>
                    <li>üåç <strong>OSM</strong> : pour une carte alternative</li>
                </ul>
            </li>
            <li>Cliquez sur un marqueur pour voir le nom du fichier et les coordonn√©es</li>
            <li>Zoomez et d√©placez-vous sur la carte</li>
            <li>Sauvegardez la carte avec le bouton <strong>"üíæ Sauvegarder la carte"</strong></li>
        </ol>

        <h2>üíª Compatibilit√©</h2>

        <table>
            <thead>
                <tr>
                    <th>Navigateur</th>
                    <th>Support</th>
                    <th>Notes</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Chrome 86+</td>
                    <td>‚úÖ Complet</td>
                    <td>Recommand√©</td>
                </tr>
                <tr>
                    <td>Edge 86+</td>
                    <td>‚úÖ Complet</td>
                    <td>Recommand√©</td>
                </tr>
                <tr>
                    <td>Safari 15.4+</td>
                    <td>‚ö†Ô∏è Partiel</td>
                    <td>API File System limit√©e</td>
                </tr>
                <tr>
                    <td>Firefox</td>
                    <td>‚ö†Ô∏è Partiel</td>
                    <td>Activation manuelle requise</td>
                </tr>
            </tbody>
        </table>

        <div class="warning-box">
            <p><strong>‚ö†Ô∏è Important :</strong> L'API File System Access n'est pas support√©e sur tous les navigateurs. Pour une exp√©rience optimale, utilisez <strong>Chrome</strong> ou <strong>Edge</strong>.</p>
        </div>

        <h2>üì¶ Installation</h2>

        <h3>En tant qu'application web</h3>
        <ol>
            <li>Ouvrez <code>index.html</code> dans votre navigateur</li>
            <li>L'application fonctionne imm√©diatement</li>
        </ol>

        <h3>Installation comme PWA (Mobile)</h3>
        <ol>
            <li>Ouvrez l'application dans <strong>Chrome</strong> ou <strong>Safari</strong></li>
            <li>Appuyez sur le menu (‚ãÆ) ou le bouton Partager</li>
            <li>Choisissez <strong>"Ajouter √† l'√©cran d'accueil"</strong></li>
            <li>L'ic√¥ne appara√Æt sur votre √©cran d'accueil</li>
        </ol>

        <h3>Installation comme PWA (Desktop)</h3>
        <ol>
            <li>Ouvrez l'application dans <strong>Chrome</strong> ou <strong>Edge</strong></li>
            <li>Cliquez sur l'ic√¥ne d'installation dans la barre d'adresse (+)</li>
            <li>Confirmez l'installation</li>
            <li>L'application s'ouvre dans sa propre fen√™tre</li>
        </ol>

        <h2>üåê D√©ploiement sur GitHub Pages</h2>

        <h3>Configuration rapide</h3>
        <ol>
            <li>Cr√©ez un d√©p√¥t GitHub nomm√© <code>PWA</code></li>
            <li>Uploadez tous les fichiers dans un sous-dossier <code>cartorando/</code></li>
            <li>Activez GitHub Pages dans Settings ‚Üí Pages</li>
            <li>Votre app sera accessible √† : <code>https://VotreNom.github.io/PWA/cartorando/</code></li>
        </ol>

        <div class="info-box">
            <p><strong>üí° Astuce :</strong> Apr√®s le d√©ploiement, attendez 2-3 minutes que GitHub Pages se mette √† jour, puis ouvrez l'URL en navigation priv√©e pour √©viter les probl√®mes de cache.</p>
        </div>

        <h2>üîß Fichiers inclus</h2>

        <table>
            <thead>
                <tr>
                    <th>Fichier</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>index.html</code></td>
                    <td>Application principale avec s√©lecteur de fond de carte</td>
                </tr>
                <tr>
                    <td><code>manifest.json</code></td>
                    <td>Configuration PWA</td>
                </tr>
                <tr>
                    <td><code>sw.js</code></td>
                    <td>Service Worker pour le mode hors ligne</td>
                </tr>
                <tr>
                    <td><code>icon192.png</code></td>
                    <td>Ic√¥ne 192x192 pixels</td>
                </tr>
                <tr>
                    <td><code>icon512.png</code></td>
                    <td>Ic√¥ne 512x512 pixels</td>
                </tr>
                <tr>
                    <td><code>README.html</code></td>
                    <td>Cette documentation</td>
                </tr>
            </tbody>
        </table>

        <h2>üÜï Nouveaut√©s de la version 2.0</h2>

        <ul>
            <li>‚úÖ <strong>S√©lecteur de fond de carte</strong> avec 3 options (IGN Plan, IGN Satellite, OSM)</li>
            <li>‚úÖ Interface am√©lior√©e avec boutons de s√©lection en haut √† droite de la carte</li>
            <li>‚úÖ Sauvegarde de la carte avec le fond actuellement s√©lectionn√©</li>
            <li>‚úÖ Changement instantan√© de fond de carte sans recharger</li>
            <li>‚úÖ Design responsive optimis√© pour mobile</li>
        </ul>

        <h2>‚ùì D√©pannage</h2>

        <h3>La carte ne s'affiche pas</h3>
        <ul>
            <li>V√©rifiez votre connexion internet (n√©cessaire pour charger les tuiles)</li>
            <li>Videz le cache du navigateur (Ctrl+Shift+R)</li>
            <li>Essayez un autre fond de carte</li>
        </ul>

        <h3>Les marqueurs sont mal plac√©s</h3>
        <ul>
            <li>L'application d√©tecte et corrige automatiquement les inversions lat/lon</li>
            <li>V√©rifiez que vos fichiers HTML contiennent bien des coordonn√©es GPS valides</li>
        </ul>

        <h3>Le s√©lecteur de dossier ne fonctionne pas</h3>
        <ul>
            <li>Utilisez Chrome ou Edge (meilleur support)</li>
            <li>V√©rifiez que vous n'√™tes pas en navigation priv√©e</li>
        </ul>

        <h2>üìÑ Licence</h2>
        <p>MIT License - Libre d'utilisation et de modification</p>

        <h2>üôè Remerciements</h2>
        <ul>
            <li><strong>Leaflet.js</strong> - Biblioth√®que de cartographie</li>
            <li><strong>IGN G√©oportail</strong> - Fonds de carte IGN</li>
            <li><strong>OpenStreetMap</strong> - Fond de carte collaboratif</li>
        </ul>

        <hr style="margin: 2rem 0; border: none; border-top: 2px solid #e0e0e0;">

        <p style="text-align: center; color: #666;">
            <strong>Cr√©√© avec ‚ù§Ô∏è pour les passionn√©s de randonn√©e</strong><br>
            Version 2.0 - CartoRando
        </p>
    </div>
</body>
</html>
