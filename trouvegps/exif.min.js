/*!
 * exif-js - v2.3.0
 * https://github.com/exif-js/exif-js
 * Copyright (c) 2008 Jacob Seidelin
 * Licensed under the MIT license
 */
(function(){var h=false;if(typeof window==="object"){h=window;}else if(typeof self==="object"){h=self;}else{console.log("EXIF library requires a window with a document");return;}
var i={};
(function(){var b={TiffHeaderOffset:0,BigEnd:false,Tags:{0x8769:"ExifIFDPointer",0x8825:"GPSInfoIFDPointer"},ExifTags:{0x9000:"ExifVersion",0xA001:"ColorSpace",0xA002:"PixelXDimension",0xA003:"PixelYDimension",0x9003:"DateTimeOriginal",0x829A:"ExposureTime",0x829D:"FNumber",0x8827:"ISOSpeedRatings",0x920A:"FocalLength",0x9209:"Flash",0xA217:"SensingMethod"},GPSTags:{0x0000:"GPSVersionID",0x0001:"GPSLatitudeRef",0x0002:"GPSLatitude",0x0003:"GPSLongitudeRef",0x0004:"GPSLongitude"},StringValues:{ExposureProgram:{0:"Not defined",1:"Manual",2:"Program AE",3:"Aperture-priority AE",4:"Shutter speed priority AE",5:"Creative (Slow speed)",6:"Action (High speed)",7:"Portrait",8:"Landscape"},MeteringMode:{0:"Unknown",1:"Average",2:"Center-weighted average",3:"Spot",4:"Multi-spot",5:"Multi-segment",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (Incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",255:"Other"},Flash:{0x0000:"Flash did not fire",0x0001:"Flash fired"}}};function c(p){return new DataView(p);}function n(p,r){try{return new FileReaderSync().readAsArrayBuffer(p);}catch(q){return new Promise(function(s,t){var u=new FileReader();u.onload=function(v){s(v.target.result);};u.onerror=t;u.readAsArrayBuffer(p);});}}
function g(p,r){if(p.getUint16(r,!1)!==0xFFD8){return false;}
var q=p.byteLength;while(r<q){if(p.getUint16(r,!1)===0xFFE1){if(p.getUint32(r+4,!1)!==0x45786966){return false;}
return r;}r+=2;}return false;}
function j(p,r){var q=new DataView(p.buffer);return o(q,r,p.byteLength-r);}
function o(q,s,u){if(q.getUint16(s,!1)!==0x45786966){return false;}
var r=s+6;if(q.getUint16(r,!1)===0x4949){b.BigEnd=false;}else if(q.getUint16(r,!1)===0x4D4D){b.BigEnd=true;}else{return false;}
if(q.getUint16(r+2,b.BigEnd)!==0x002A){return false;}
b.TiffHeaderOffset=r;q.getUint32(r+4,b.BigEnd);return l(q,r+8);}
function l(q,s){var p=q.getUint16(s,b.BigEnd);var r;for(var t=0;t<p;t++){r=s+2+t*12;var u=q.getUint16(r,b.BigEnd);var v=b.Tags[u];if(!v)continue;if(v==="GPSInfoIFDPointer"){return k(q,b.GPSTags,q.getUint32(r+8,b.BigEnd));}}return {};}
function k(q,t,s){var p=q.getUint16(s,b.BigEnd);var r={};for(var v=0;v<p;v++){var u=s+2+v*12;var w=q.getUint16(u,b.BigEnd);r[t[w]]=m(q,u);}return r;}
function m(q,s){var r=q.getUint16(s+2,b.BigEnd);var p=q.getUint32(s+4,b.BigEnd);var t=q.getUint32(s+8,b.BigEnd);if(r===2){return [q.getUint32(t,b.BigEnd)/q.getUint32(t+4,b.BigEnd),q.getUint32(t+8,b.BigEnd)/q.getUint32(t+12,b.BigEnd),q.getUint32(t+16,b.BigEnd)/q.getUint32(t+20,b.BigEnd)];}return t;}
i.readFromBinaryFile=function(p){var q=new DataView(p);var r=g(q,2);if(!r)return{};return j(p,r+10);};i.getData=function(p,r){if((typeof File!=="undefined"&&p instanceof File)||(typeof Blob!=="undefined"&&p instanceof Blob)){var q=n(p);if(q instanceof Promise){q.then(function(s){p.exifdata=i.readFromBinaryFile(s);r&&r.call(p);});}else{p.exifdata=i.readFromBinaryFile(q);r&&r.call(p);}}
else if(p instanceof ArrayBuffer){p.exifdata=i.readFromBinaryFile(p);r&&r.call(p);}else{r&&r.call(p);}};i.getTag=function(p,r){if(!p.exifdata)return;return p.exifdata[r];};})();if(typeof define==="function"&&define.amd){define(i);}else if(typeof module==="object"&&module.exports){module.exports=i;}else{h.EXIF=i;}})();
